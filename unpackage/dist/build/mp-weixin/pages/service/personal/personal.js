(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/service/personal/personal"],{1600:function(e,t,o){"use strict";o.r(t);var n=o("c3e6"),i=o.n(n);for(var r in n)"default"!==r&&function(e){o.d(t,e,(function(){return n[e]}))}(r);t["default"]=i.a},"2dc5":function(e,t,o){"use strict";o.r(t);var n=o("af4e"),i=o("1600");for(var r in i)"default"!==r&&function(e){o.d(t,e,(function(){return i[e]}))}(r);o("493d");var a,u=o("f0c5"),s=Object(u["a"])(i["default"],n["b"],n["c"],!1,null,"16c260b7",null,!1,n["a"],a);t["default"]=s.exports},"493d":function(e,t,o){"use strict";var n=o("d3df"),i=o.n(n);i.a},af4e:function(e,t,o){"use strict";o.d(t,"b",(function(){return i})),o.d(t,"c",(function(){return r})),o.d(t,"a",(function(){return n}));var n={uNavbar:function(){return o.e("uview-ui/components/u-navbar/u-navbar").then(o.bind(null,"1940"))},uForm:function(){return o.e("uview-ui/components/u-form/u-form").then(o.bind(null,"4a8c"))},uFormItem:function(){return Promise.all([o.e("common/vendor"),o.e("uview-ui/components/u-form-item/u-form-item")]).then(o.bind(null,"af76"))},uInput:function(){return Promise.all([o.e("common/vendor"),o.e("uview-ui/components/u-input/u-input")]).then(o.bind(null,"3625"))},uButton:function(){return o.e("uview-ui/components/u-button/u-button").then(o.bind(null,"aafa"))},uActionSheet:function(){return o.e("uview-ui/components/u-action-sheet/u-action-sheet").then(o.bind(null,"d4da"))}},i=function(){var e=this,t=e.$createElement;e._self._c},r=[]},c3e6:function(e,t,o){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=o("a476"),i=o("a62a"),r=o("8a33"),a={data:function(){var e=this;return{title:"个人信息",backIconName:"nav-back",backText:"",background:{"background-image":"linear-gradient(45deg, rgb(79, 121, 164), rgb(130, 174, 222))"},adverts:[{image:"homebg.jpg"}],model:{id:"",name:"张三",sexName:"男",sex:"",age:50,mobile:"15623233125",addressId:"",address:"xx小区",medicalHistory:"",allergy:""},rules:{name:[{required:!0,message:"请输入姓名",trigger:"blur"},{min:2,max:10,message:"姓名长度在2到10个字符",trigger:["change","blur"]},{validator:function(t,o,n){return e.$u.test.chinese(o)},message:"姓名必须为中文",trigger:["change","blur"]}],age:[{required:!0,message:"请填写年龄"}],address:[{required:!0,message:"请填写地址",trigger:"change"}],code:[{required:!0,message:"请输入验证码",trigger:["change","blur"]},{type:"number",message:"验证码只能为数字",trigger:["change","blur"]}]},border:!1,check:!1,selectStatus:"close",actionSheetList:[{text:"男"},{text:"女"}],actionSheetShow:!1,pickerShow:!1,selectShow:!1,radioCheckWidth:"auto",radioCheckWrap:!1,labelPosition:"left",codeTips:"",errorType:["message"]}},onLoad:function(e){var t=JSON.parse(decodeURIComponent(e.user));this.model=t,1===this.model.sex?this.model.sexName="男":2===this.model.sex&&(this.model.sexName="女")},mounted:function(){this.getInfo()},computed:{borderCurrent:function(){return this.border?0:1}},onReady:function(){this.$refs.uForm.setRules(this.rules)},methods:{getInfo:function(){var e=this;(0,n.getUserInfo)().then((function(t){e.model=t.data,console.log("userInfo",e.model),1===e.model.sex?e.model.sexName="男":2===e.model.sex&&(e.model.sexName="女"),(0,i.getSignInfo)(e.model.id).then((function(t){e.signInfo=t.data,(0,r.getDoctorInfo)(e.signInfo.doctorId).then((function(t){e.doctor=t.data,e.doctor.photo=Object({NODE_ENV:"production",VUE_APP_NAME:"doctor-app",VUE_APP_PLATFORM:"mp-weixin",BASE_URL:"/"}).VUE_APP_API_HOST+"/"+e.doctor.photo}))}))}))},submit:function(){var e=this;this.$refs.uForm.validate((function(t){t?(console.log("验证通过"),(0,n.updateUserInfo)(e.model).then((function(e){console.log(e)}))):console.log("验证失败")}))},actionSheetCallback:function(t){e.hideKeyboard(),this.model.sex=this.actionSheetList[t].text},checkboxGroupChange:function(e){this.model.likeFruit=e},radioGroupChange:function(e){this.model.payType=e},checkboxChange:function(e){this.model.agreement=e.value},regionConfirm:function(e){this.model.region=e.province.label+"-"+e.city.label+"-"+e.area.label},selectConfirm:function(e){var t=this;this.model.goodsType="",e.map((function(e,o){t.model.goodsType+=""==t.model.goodsType?e.label:"-"+e.label}))},borderChange:function(e){this.border=!e},radioCheckboxChange:function(e){0==e?(this.radioCheckWrap=!1,this.radioCheckWidth="auto"):1==e?(this.radioCheckWrap=!0,this.radioCheckWidth="auto"):2==e&&(this.radioCheckWrap=!1,this.radioCheckWidth="50%")},labelPositionChange:function(e){this.labelPosition=0==e?"left":"top"},codeChange:function(e){this.codeTips=e},getCode:function(){var t=this;this.$refs.uCode.canGetCode?(e.showLoading({title:"正在获取验证码",mask:!0}),setTimeout((function(){e.hideLoading(),t.$u.toast("验证码已发送"),t.$refs.uCode.start()}),2e3)):this.$u.toast("倒计时结束后再发送")},errorChange:function(e){0==e&&(this.errorType=["message"]),1==e&&(this.errorType=["toast"]),2==e&&(this.errorType=["border-bottom"]),3==e&&(this.errorType=["border"])}}};t.default=a}).call(this,o("543d")["default"])},d3df:function(e,t,o){},f7ec:function(e,t,o){"use strict";(function(e){o("3799");n(o("66fd"));var t=n(o("2dc5"));function n(e){return e&&e.__esModule?e:{default:e}}e(t.default)}).call(this,o("543d")["createPage"])}},[["f7ec","common/runtime","common/vendor"]]]);